{% extends 'base.html' %}
{% load format_filters %}
{% block title %}トップページ{% endblock %}
{% block content %}
    <div class="grid team-grid">
        {% for team in teams %}
            <div>
                <a href="{% url 'team_detail' team.id %}">
                    {% if team.logo %}
                        <img src="{{ team.logo.url }}" alt="Team Logo" class="team-logo">
                    {% else %}
                        {{ team.name }}
                    {% endif %}
                </a>
            </div>
        {% empty %}
            <div>球団が未登録です。</div>
        {% endfor %}
    </div>
    <div class="custom-heading">今日の試合</div>
    <table>
        <tbody>
            {% for game in games %}
                <tr>
                    <td class="center">
                        {% if game.home_team.logo %}
                            <img src="{{ game.home_team.logo.url }}" alt="Team Logo" class="team-logo-small">
                        {% endif %}
                    </td>
                    <td class="numeric">
                        {% if game.home_score %}
                            {{ game.home_score }}
                        {% endif %}
                    </td>
                    <td class="center">
                        {% if game.game_status == 1 %}
                            -
                        {% else %}
                            VS
                        {% endif %}
                    </td>
                    <td class="numeric">
                        {% if game.away_score %}
                            {{ game.away_score }}
                        {% endif %}
                    </td>
                    <td class="center">
                        {% if game.away_team.logo %}
                            <img src="{{ game.away_team.logo.url }}" alt="Team Logo" class="team-logo-small">
                        {% endif %}
                    </td>
                    <td>
                        {% if game.stadium %}
                            {{ game.stadium }}
                        {% endif %}
                    </td>
                    <td>
                        {% if game.start_time %}
                            {{ game.start_time }}
                        {% endif %}
                    </td>
                </tr>
            {% empty %}
                <div>今日は試合がありません。</div>
            {% endfor %}
        </tbody>
    </table>
    <div class="custom-heading">今日が誕生日の選手</div>
    <table>
        <tbody>
            {% for player in players %}
                <tr>
                    <td>
                        <div class="player-name-logo">
                            {% if player.team_logo %}
                                <img src="{{ player.team_logo.url }}" alt="Team Logo" class="team-logo-small">
                            {% endif %}
                            <a href="{% url 'player_detail' player.player_id %}">{{player.player_name}}</a>
                        </div>
                    </td>
                    <td class="numeric">{{ player.age|age_with_suffix }}</td>
                </tr>
            {% empty %}
                <div>今日が誕生日の選手はいません。</div>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}